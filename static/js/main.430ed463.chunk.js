(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{16:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var s=c(10),a=c.n(s),n=c(5),r=(c(16),c(2)),l=(c(17),c(9)),j=c(4),o=c(1),i=c.n(o),b=c(11),d=c(6),u=c.n(d),h=c(0),m=function(e){var t=e.name,c=e.slug,s=e.sex,a=Object(r.f)().search;return Object(h.jsx)(n.b,{to:{pathname:"/people/".concat(c),search:a},style:{color:"f"===s?"#ee3966":"#3099a7"},children:t})},O=i.a.memo((function(e){var t=e.person,c=e.sortBy,s=e.people,a=s.find((function(e){return e.name===t.motherName})),n=s.find((function(e){return e.name===t.fatherName}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("td",{className:u()({"is-selected":"name"===c}),children:Object(h.jsx)(m,{name:t.name,slug:t.slug,sex:t.sex})}),Object(h.jsx)("td",{className:u()({"is-selected":"sex"===c}),children:"f"===t.sex?"Female":"Male"}),Object(h.jsx)("td",{className:u()({"is-selected":"born"===c}),children:t.born}),Object(h.jsx)("td",{className:u()({"is-selected":"died"===c}),children:t.died}),Object(h.jsx)("td",{style:{color:"#ee3966"},children:a?Object(h.jsx)(m,{name:a.name,slug:a.slug,sex:a.sex}):t.motherName}),Object(h.jsx)("td",{style:{color:"#3099a7"},children:n?Object(h.jsx)(m,{name:n.name,slug:n.slug,sex:n.sex}):t.fatherName})]})})),x=i.a.memo((function(e){var t=e.text,c=e.sortParam,s=Object(o.useState)(!1),a=Object(j.a)(s,2),l=a[0],i=a[1],b=Object(r.f)().search,d=Object(n.c)(b),u=Object(j.a)(d,2),m=u[0],O=u[1],x=m.get("sortOrder"),p=m.get("sortBy");Object(o.useEffect)((function(){p!==c&&i(!1)}),[p]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("button",{type:"button",className:"filter-button",onClick:function(){i((function(e){return!e})),m.set("sortBy",c),m.set("sortOrder",l?"desc":"asc"),O(m)},children:[t,Object(h.jsx)("span",{className:"icon",children:Object(h.jsx)("img",{src:p===c?"asc"===x?"./images/sort_asc.png":"./images/sort_desc.png":"./images/sort_both.png",alt:"icon"})})]})})})),p=i.a.memo((function(e){var t=e.people,c=e.slug,s=Object(r.f)().search,a=Object(n.c)(s),l=Object(j.a)(a,1)[0],i=l.get("sortBy"),b=l.get("sortOrder"),d=Object(o.useMemo)((function(){return i?t.sort((function(e,t){switch(i){case"name":case"sex":return"asc"===b?e[i].localeCompare(t[i]):t[i].localeCompare(e[i]);case"born":case"died":return"asc"===b?e[i]-t[i]:t[i]-e[i];default:return 0}})):t}),[i,b,t]);return Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsx)("div",{className:"box",children:Object(h.jsxs)("table",{className:"PeopleTable table is-hoverable is-fullwidth",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:Object(h.jsx)(x,{text:"Name",sortParam:"name"})}),Object(h.jsx)("th",{children:Object(h.jsx)(x,{text:"Sex",sortParam:"sex"})}),Object(h.jsx)("th",{children:Object(h.jsx)(x,{text:"Born",sortParam:"born"})}),Object(h.jsx)("th",{children:Object(h.jsx)(x,{text:"Died",sortParam:"died"})}),Object(h.jsx)("th",{children:Object(h.jsx)("p",{className:"text-wrapper",children:"Mother"})}),Object(h.jsx)("th",{children:Object(h.jsx)("p",{className:"text-wrapper",children:"Father"})})]})}),Object(h.jsx)("tbody",{children:d.map((function(e){return Object(h.jsx)("tr",{className:u()({"is-selected":e.slug===c}),children:Object(h.jsx)(O,{person:e,sortBy:i,people:t})},e.slug)}))})]})})})})),f=function(){var e=Object(o.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.h)().slugMan,i=Object(r.f)().search,d=Object(n.c)(i),u=Object(j.a)(d,2),m=u[0],O=u[1];Object(o.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{father:e.find((function(e){return e.name===t.fatherName})),mother:e.find((function(e){return e.name===t.motherName}))})}))})).then(s)}),[]);var x=m.get("query")||"",f=Object(o.useState)(x),g=Object(j.a)(f,2),v=g[0],N=g[1],y=Object(o.useCallback)(Object(b.debounce)((function(e){e?m.set("query",e):m.delete("query"),O(m)}),500),[c,m,a]),w=Object(o.useMemo)((function(){return function(){if(x){var e=x.toLowerCase();return c.filter((function(t){var c,s;return t.name.toLowerCase().includes(e)||(null===(c=t.motherName)||void 0===c?void 0:c.toLowerCase().includes(e))||(null===(s=t.fatherName)||void 0===s?void 0:s.toLowerCase().includes(e))}))}return c}()}),[c,x]);return Object(h.jsxs)("div",{className:"PeoplePage block",children:[Object(h.jsx)("h2",{className:"title HomePage__title",children:"Peope page"}),Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsx)("div",{className:"level is-mobile",children:Object(h.jsx)("div",{className:"level-left",children:Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{type:"text",className:"input",placeholder:"Write name here",value:v,onChange:function(e){y(e.target.value),N(e.target.value)}})})})})}),Object(h.jsx)(p,{people:w,slug:a})]})},g=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("nav",{children:[Object(h.jsx)(n.b,{to:"/",children:"Home page "}),Object(h.jsx)(n.b,{to:"/people",children:"People page"})]}),Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{path:"/",element:Object(h.jsx)("h1",{children:"Home page"})}),Object(h.jsx)(r.b,{path:"/people",element:Object(h.jsx)(f,{})}),Object(h.jsx)(r.b,{path:"/people/:slugMan",element:Object(h.jsx)(f,{})}),Object(h.jsx)(r.b,{path:"/home",element:Object(h.jsx)(r.a,{to:"/"})}),Object(h.jsx)(r.b,{path:"*",element:Object(h.jsx)("p",{children:"Page not found"})})]})]})};a.a.render(Object(h.jsx)(n.a,{children:Object(h.jsx)(g,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.430ed463.chunk.js.map